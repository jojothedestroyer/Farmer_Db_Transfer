{% extends 'gcna/base.html' %} {% block content%}

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* General Styles */
<<<<<<< HEAD
=======
/*     .hidden { display: none; }*/
#entryCheck { 
    display: none;
}

>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7; /* Adjusted background color */
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }

    .card {
      margin-bottom: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .card-body {
      padding: 20px;
    }

    h4 {
      margin-top: 0;
      margin-bottom: 20px;
      font-size: 24px;
      color: #333;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th,
    td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      font-weight: bold;
      color: #555;
    }

    td {
      color: #777;
    }

    button {
      cursor: pointer;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background-color: #007bff;
      color: #fff;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #0056b3;
    }

    /* Form Styles */
    record {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #555;
    }

    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
      color: #333;
      outline: none;
    }

    #saveButton,
    #closeButton {
      margin-top: 10px;
      background-color: #28a745;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #closeButton {
      background-color: #dc3545;
      margin-left: 10px;
    }

    /* Responsive Styles */
    @media screen and (max-width: 768px) {
      .container {
        max-width: 90%;
      }
    }
  </style>
<<<<<<< HEAD







 


<style>
  .table {
      width: 100%;
      border-collapse: collapse;
      background-color: #ffffff;
      font-family: Raleway;
      border-radius: 10px;
      /* box-shadow: 0 2px 25px rgba(0, 0, 0, 0.2); */
  }

  .table th, .table td {
      padding: 10px;
      text-align: center;
      border: 1px solid #e4e4e4;
      min-width: 150px; /* Ensure cells have a minimum width */
  }

  .table th {
      background-color: #f8f9fa;
      font-weight: bold;
  }

  .form-control {
      width: 100%; /* Full width of the cell */
      min-width: 150px; /* Minimum width for dropdowns and inputs */
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      font-size: 14px; /* Ensure text is readable */
  }

  .add-row, .submit_contents {
      padding: 5px 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      font-size: 14px; /* Ensure button text is readable */
  }

  .add-row:hover, .submit_contents:hover {
      background-color: #0056b3;
  }



  
  .addrow, .submit_contents {
      padding: 5px 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      font-size: 14px; /* Ensure button text is readable */
  }

  .addrow:hover, .submit_contents:hover {
      background-color: #0056b3;
  }
#entryCheck{
  display: none;
}
  .hidden-label1 {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      display: block;
  }

  /* Ensure the table is responsive */
  @media (max-width: 768px) {
      .table th, .table td {
          min-width: 120px; /* Adjust for smaller screens */
      }

      .form-control {
          min-width: 120px; /* Adjust for smaller screens */
          font-size: 12px; /* Smaller font size for smaller screens */
      }

      .add-row, .submit_contents {
          font-size: 12px; /* Smaller font size for smaller screens */
      }
  }
</style>













=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
</head>
<body>
  <div class="container"></div>

  <div id="landInfoData"></div>

  <script>
    let openRequest = indexedDB.open("GCNA");
<<<<<<< HEAD
=======
    let db;

>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
    let fieldBlacklist = [];
    const fieldBlacklistConfig = {
      DATE_OF_SAMPLING: true, // Set to true to blacklist if null or empty
      DECISION: true,
<<<<<<< HEAD
      Quantity_of_Bags: true,    };
=======
      Quantity_of_Bags: true,

      // Add more fields as needed
    };

>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
    openRequest.onsuccess = function (event) {
      let db = event.target.result;
      let transaction = db.transaction("In-House-Drying", "readonly");
      let landInfoStore = transaction.objectStore("In-House-Drying");
      let getAllRequest = landInfoStore.getAll();

      getAllRequest.onsuccess = function (event) {
        let landInfoRecords = event.target.result;
        let landInfoDataDiv = document.getElementById("landInfoData");

        landInfoRecords.forEach((record) => {
          let entryContainer = document.createElement("div");
          entryContainer.id = `entryContainer_${record.id}`;
          entryContainer.innerHTML = `
              <form>
              <div class="card">
                        <div class="card-body">
                            <p class="card-text">
                                <table id="vertical-1" class="table table-hover table-light">
                                    <!-- <caption>First Way</caption> -->
                                    <tr>${record.id}
                                        <th>Station</th>
                                        <td>${record.STATION}</td>
                                    </tr>  
                                    <tr>
                                        <th>Date of Purchase</th>
                                        <td>${record.DATE_OF_PURCHASE}</td>
                                    </tr>                                    <tr>
                                        <th>Place of Purchase</th>
                                        <td>${record.PLACE_OF_PURCHASE}</td>
                                    </tr>
                                    <tr>
                                        <th>Number of Farmers</th>
                                        <td>${record.TOTAL_NUM_OF_FARMERS}</td>
                                    </tr>
                                    <tr>
                                        <th>Number of Bags</th>
                                        <td>${record.NUM_OF_BAGS}</td>
                                    </tr>

<<<<<<< HEAD
                                    <td id="entryCheck" style="opacity: 0;">${record.entryCheck}</td>
=======
                                    <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

                                    <tr>
                                        <th>Total Nutmegs bought(lbs)</th>
                                        <td>${record.TOTAL_LBS_NUTMEG_BOUGHT}</td>
                                    </tr>





                                    <tr>
                                        <th>Complete</th>
<<<<<<< HEAD
<td>
    <button onclick="saveEditedCompletion(${record.id}, 'Yes')">Entry Complete?</button>
</td>            

                                    </tr>

<table class="table">
=======
<td contenteditable="true" onblur="saveEditedCompletion(${record.id}, this.innerText)">${record.COMPLETE}</td>

                                    </tr>

                                    <table class="table">
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                                        <center>
                                            <label>Dates</label>   
                                        </center> 
                                        <thead>
                                            <tr>
                                                <th scope="col">Start Drying Date</th>
                                                <th scope="col">Approximate End Drying Date</th>
                                                <th scope="col">End Drying Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>${record.START_DRYING_DATE}</td>
                                                <td>${record.APPROX_END_DRYING_DATE}</td>
<<<<<<< HEAD
 <td><input type="date" value="${record.END_DRYING_DATE}" 
         onchange="saveEditedDate(${record.id}, this.value)">    </td>                                        </tr>
=======
<td contenteditable="true" onblur="saveEditedDate(${record.id}, this.innerText)">${record.END_DRYING_DATE}</td>
                                            </tr>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                                        </tbody>
                                    </table>
                                </table>`;

          if (record.ShelfG_GF && record.TrayG_GF && record.SectionG_GF) {
            entryContainer.innerHTML += `


                        <table class="table" id="LoTableG1">
                            <center>
                                <label class="hidden-label1"> Test</label>   
                            </center> 
                            <thead>
                                <tr>
                                    <th scope="col">Shelf</th>
                                    <th scope="col">Tray</th>
                                          <th scope="col">Section</th>
      <th scope="col">Weight</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
<<<<<<< HEAD
=======
                                  <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89


                                    <td>${record.ShelfG_GF}</td>
                                    <td>${record.TrayG_GF}</td>
                                    <td>${record.SectionG_GF}</td>
                                    <td>${record.WeightG_GF}</td>
<<<<<<< HEAD
                                  <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

                                </tr>
                            </tbody>


                            <div id="landInfoData1"></div>


 




                        </table>`;
          }

          if (record.ShelfG_1F && record.TrayG_1F && record.SectionG_1F) {
            entryContainer.innerHTML += `


                        <table class="table" id="LoTableG2">
                            <center>
                                <label class="hidden-label1">1st Floor</label>   
                            </center> 
                            <thead>
                                <tr>
                                    <th scope="col">Shelf</th>
                                    <th scope="col">Tray</th>
                                          <th scope="col">Section</th>
      <th scope="col">Weight</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
<<<<<<< HEAD
=======
                                  <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

                                    <td>${record.ShelfG_1F}</td>
                                    <td>${record.TrayG_1F}</td>
                                    <td>${record.SectionG_1F}</td>
                                    <td>${record.WeightG_1F}</td>
<<<<<<< HEAD
                                  <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

                              
                                    </tr>
                            </tbody>
                            <div id="landInfoData1"></div>

                        </table>`;
          }

          if (record.ShelfG_2F && record.TrayG_2F && record.SectionG_2F) {
            entryContainer.innerHTML += `

                    <table class="table" id="LoTableG3">

                        <center>
                    <label class="hidden-label1" >2nd Floor</label>   
                    </center> 
                    <thead>
                        <tr>

                        <th scope="col">Shelf</th>
                        <th scope="col">Tray</th>
                              <th scope="col">Section</th>
      <th scope="col">Weight</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
<<<<<<< HEAD
=======
                          <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

                        <td>${record.ShelfG_2F}</td>
                        <td>${record.TrayG_2F}</td>
                        <td>${record.SectionG_2F}</td>
                        <td>${record.WeightG_2F}</td>
<<<<<<< HEAD
                          <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

                        </tr>


                    </tbody>
                    <div id="landInfoData1"></div>

                    </table>`;
          }

          if (record.ShelfG_FL && record.TrayG_FL && record.SectionG_FL) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableG4">

    <center>
<label class="hidden-label1">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfG_FL}</td>
      <td>${record.TrayG_FL}</td>
      <td>${record.SectionG_FL}</td>
      <td>${record.WeightG_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_GF && record.TrayH_GF && record.SectionH_GF) {
            entryContainer.innerHTML += `

 

<table class="table" id="LoTableH1">

    <center>
<label class="hidden-label2"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_GF}</td>
      <td>${record.TrayH_GF}</td>
      <td>${record.SectionH_GF}</td>
      <td>${record.WeightH_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_1F && record.TrayH_1F && record.SectionH_1F) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableH2">

    <center>
<label class="hidden-label2">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>

      
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_1F}</td>
      <td>${record.TrayH_1F}</td>
      <td>${record.SectionH_1F}</td>
      <td>${record.WeightH_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_2F && record.TrayH_2F && record.SectionH_2F) {
            entryContainer.innerHTML += `

   
<table class="table" id="LoTableH3">

    <center>
<label class="hidden-label2" >2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>

    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_2F}</td>
      <td>${record.TrayH_2F}</td>
      <td>${record.SectionH_2F}</td>
      <td>${record.WeightH_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_FL && record.TrayH_FL && record.SectionH_FL) {
            entryContainer.innerHTML += `

   
<table class="table" id="LoTableH4">

    <center>
<label class="hidden-label2">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_FL}</td>
      <td>${record.TrayH_FL}</td>
      <td>${record.SectionH_FL}</td>
      <td>${record.WeightH_FL}</td>

<<<<<<< HEAD
         <td id="entryCheck">${record.entryCheck}</td>
 </tr>
=======
    </tr>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_GF && record.TrayM_GF && record.SectionM_GF) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableM1">

    <center>
<label class="hidden-label3"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_GF}</td>
      <td>${record.TrayM_GF}</td>
      <td>${record.SectionM_GF}</td>
      <td>${record.WeightM_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>


=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_1F && record.TrayM_1F && record.SectionM_1F) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableM2">

    <center>
<label class="hidden-label3">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_1F}</td>
      <td>${record.TrayM_1F}</td>
      <td>${record.SectionM_1F}</td>
      <td>${record.WeightM_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_2F && record.TrayM_2F && record.SectionM_2F) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableM3">

    <center>
<label class="hidden-label3">2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_2F}</td>
      <td>${record.TrayM_2F}</td>
      <td>${record.SectionM_2F}</td>
      <td>${record.WeightM_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_FL && record.TrayM_FL && record.SectionM_FL) {
            entryContainer.innerHTML += `



<table class="table" id="LoTableM4">

    <center>
<label class="hidden-label3">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_FL}</td>
      <td>${record.TrayM_FL}</td>
      <td>${record.SectionM_FL}</td>
      <td>${record.WeightM_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_GF && record.TrayU_GF && record.SectionU_GF) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableU1">

    <center>
<label class="hidden-label4"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_GF}</td>
      <td>${record.TrayU_GF}</td>
      <td>${record.SectionU_GF}</td>
      <td>${record.WeightU_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_1F && record.TrayU_1F && record.SectionU_1F) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableU2">

    <center>
<label class="hidden-label4">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_1F}</td>
      <td>${record.TrayU_1F}</td>
      <td>${record.SectionU_1F}</td>
      <td>${record.WeightU_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_2F && record.TrayU_2F && record.SectionU_2F) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableU3">

    <center>
<label class="hidden-label4">2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_2F}</td>
      <td>${record.TrayU_2F}</td>
      <td>${record.SectionU_2F}</td>
      <td>${record.WeightU_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_FL && record.TrayU_FL && record.SectionU_FL) {
            entryContainer.innerHTML += `

   
<table class="table" id="LoTableU4">

    <center>
<label class="hidden-label4">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_FL}</td>
      <td>${record.TrayU_FL}</td>
      <td>${record.SectionU_FL}</td>
      <td>${record.WeightU_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfGP_GF && record.TrayGP_GF && record.SectionGP_GF) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableGP1">

    <center>
<label class="hidden-label5"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_GF}</td>
      <td>${record.TrayGP_GF}</td>
      <td>${record.SectionGP_GF}</td>
      <td>${record.WeightGP_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfGP_1F && record.TrayGP_1F && record.SectionGP_1F) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableGP2">

    <center>
<label class="hidden-label5">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_1F}</td>
      <td>${record.TrayGP_1F}</td>
      <td>${record.SectionGP_1F}</td>
      <td>${record.WeightGP_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfGP_2F && record.TrayGP_2F && record.SectionGP_2F) {
            entryContainer.innerHTML += `

   
<table class="table" id="LoTableGP3">

    <center>
<label class="hidden-label5">2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_2F}</td>
      <td>${record.TrayGP_2F}</td>
      <td>${record.SectionGP_2F}</td>
      <td>${record.WeightGP_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfGP_FL && record.TrayGP_FL && record.SectionGP_FL) {
            entryContainer.innerHTML += `

   
<table class="table" id="LoTableGP4">

    <center>
<label class="hidden-label5">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_FL}</td>
      <td>${record.TrayGP_FL}</td>
      <td>${record.SectionGP_FL}</td>
      <td>${record.WeightGP_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }
          entryContainer.innerHTML += `


<br>  
<br>  
<br>  
<br>  
<br>  
<br>  




                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           












 
 <tr>

         <center>
            <p>MOISTURE TESTING (Weeks 3, 6, 8)</p>
</center>
        </tr>


        <tr>

         <center>
   
            <p>LOCATION2</p>
</center>`;

          if (record.ShelfG_0_GF && record.TrayG_0_GF && record.SectionG_0_GF) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableG10">

    <center>
<label class="hidden-label1"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfG_0_GF}</td>
      <td>${record.TrayG_0_GF}</td>
      <td>${record.SectionG_0_GF}</td>
      <td>${record.MoistureG_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfG_0_1F && record.TrayG_0_1F && record.SectionG_0_1F) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableG20">

    <center>
<label class="hidden-label1">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfG_0_1F}</td>
      <td>${record.TrayG_0_1F}</td>
      <td>${record.SectionG_0_1F}</td>
      <td>${record.MoistureG_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfG_0_2F && record.TrayG_0_2F && record.SectionG_0_2F) {
            entryContainer.innerHTML += `

    <table class="table" id="LoTableG30">

    <center>
<label class="hidden-label1" >2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfG_0_2F}</td>
      <td>${record.TrayG_0_2F}</td>
      <td>${record.SectionG_0_2F}</td>
      <td>${record.MoistureG_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfG_0_FL && record.TrayG_0_FL && record.SectionG_0_FL) {
            entryContainer.innerHTML += `

    <table class="table" id="LoTableG40">

    <center>
<label class="hidden-label1">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfG_0_FL}</td>
      <td>${record.TrayG_0_FL}</td>
      <td>${record.SectionG_0_FL}</td>
      <td>${record.MoistureG_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_0_GF && record.TrayH_0_GF && record.SectionH_0_GF) {
            entryContainer.innerHTML += `
 


<table class="table" id="LoTableH10">

    <center>
<label class="hidden-label2"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_0_GF}</td>
      <td>${record.TrayH_0_GF}</td>
      <td>${record.SectionH_0_GF}</td>
      <td>${record.MoistureH_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_0_1F && record.TrayH_0_1F && record.SectionH_0_1F) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableH20">

    <center>
<label class="hidden-label2">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_0_1F}</td>
      <td>${record.TrayH_0_1F}</td>
      <td>${record.SectionH_0_1F}</td>
      <td>${record.MoistureH_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_0_2F && record.TrayH_0_2F && record.SectionH_0_2F) {
            entryContainer.innerHTML += `

    <table class="table" id="LoTableH30">

    <center>
<label class="hidden-label2" >2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_0_2F}</td>
      <td>${record.TrayH_0_2F}</td>
      <td>${record.SectionH_0_2F}</td>
      <td>${record.MoistureH_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfH_0_FL && record.TrayH_0_FL && record.SectionH_0_FL) {
            entryContainer.innerHTML += `

    <table class="table" id="LoTableH40">

    <center>
<label class="hidden-label2">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfH_0_FL}</td>
      <td>${record.TrayH_0_FL}</td>
      <td>${record.SectionH_0_FL}</td>
      <td>${record.MoistureH_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_0_GF && record.TrayM_0_GF && record.SectionM_0_GF) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableM10">

    <center>
<label class="hidden-label3"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_0_GF}</td>
      <td>${record.TrayM_0_GF}</td>
      <td>${record.SectionM_0_GF}</td>
      <td>${record.MoistureM_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_0_1F && record.TrayM_0_1F && record.SectionM_0_1F) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableM20">

    <center>
<label class="hidden-label3">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_0_1F}</td>
      <td>${record.TrayM_0_1F}</td>
      <td>${record.SectionM_0_1F}</td>
      <td>${record.MoistureM_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_0_2F && record.TrayM_0_2F && record.SectionM_0_2F) {
            entryContainer.innerHTML += `



<table class="table" id="LoTableM30">

    <center>
<label class="hidden-label3">2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_0_2F}</td>
      <td>${record.TrayM_0_2F}</td>
      <td>${record.SectionM_0_2F}</td>
      <td>${record.MoistureM_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfM_0_FL && record.TrayM_0_FL && record.SectionM_0_FL) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableM40">

    <center>
<label class="hidden-label3">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfM_0_FL}</td>
      <td>${record.TrayM_0_FL}</td>
      <td>${record.SectionM_0_FL}</td>
      <td>${record.MoistureM_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_0_GF && record.TrayU_0_GF && record.SectionU_0_GF) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableU10">

    <center>
<label class="hidden-label4"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_0_GF}</td>
      <td>${record.TrayU_0_GF}</td>
      <td>${record.SectionU_0_GF}</td>
      <td>${record.MoistureU_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_0_1F && record.TrayU_0_1F && record.SectionU_0_1F) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableU20">

    <center>
<label class="hidden-label4">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_0_1F}</td>
      <td>${record.TrayU_0_1F} }</td>
      <td>${record.SectionU_0_1F}</td>
      <td>${record.MoistureU_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_0_2F && record.TrayU_0_2F && record.SectionU_0_2F) {
            entryContainer.innerHTML += `
   
<table class="table" id="LoTableU30">

    <center>
<label class="hidden-label4">2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_0_2F}</td>
      <td>${record.TrayU_0_2F}</td>
      <td>${record.SectionU_0_2F}</td>
      <td>${record.MoistureU_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (record.ShelfU_0_FL && record.TrayU_0_FL && record.SectionU_0_FL) {
            entryContainer.innerHTML += `

   
<table class="table" id="LoTableU40">

    <center>
<label class="hidden-label4">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfU_0_FL}</td>
      <td>${record.TrayU_0_FL}</td>
      <td>${record.SectionU_0_FL}</td>
      <td>${record.MoistureU_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (
            record.ShelfGP_0_GF &&
            record.TrayGP_0_GF &&
            record.SectionGP_0_GF
          ) {
            entryContainer.innerHTML += `

<table class="table" id="LoTableGP10">

    <center>
<label class="hidden-label5"> Ground Floor</label>   
 </center> 
  <thead>
    <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_0_GF}</td>
      <td>${record.TrayGP_0_GF}</td>
      <td>${record.SectionGP_0_GF}</td>
      <td>${record.MoistureGP_GF}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (
            record.ShelfGP_0_1F &&
            record.TrayGP_0_1F &&
            record.SectionGP_0_1F
          ) {
            entryContainer.innerHTML += `


<table class="table" id="LoTableGP20">

    <center>
<label class="hidden-label5">1st Floor</label>   
 </center> 
  <thead>
     <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_0_1F}</td>
      <td>${record.TrayGP_0_1F}</td>
      <td>${record.SectionGP_0_1F}</td>
      <td>${record.MoistureGP_1F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (
            record.ShelfGP_0_2F &&
            record.TrayGP_0_2F &&
            record.SectionGP_0_2F
          ) {
            entryContainer.innerHTML += `
   
<table class="table" id="LoTableGP30">

    <center>
<label class="hidden-label5">2nd Floor</label>   
 </center> 
  <thead>
      <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_0_2F}</td>
      <td>${record.TrayGP_0_2F}</td>
      <td>${record.SectionGP_0_2F}</td>
      <td>${record.MoistureGP_2F}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          if (
            record.ShelfGP_0_FL &&
            record.TrayGP_0_FL &&
            record.SectionGP_0_FL
          ) {
            entryContainer.innerHTML += `

   
<table class="table" id="LoTableGP40">

    <center>
<label class="hidden-label5">Floor Loft</label>   
 </center> 
  <thead>
       <tr>

       <th scope="col">Shelf</th>
      <th scope="col">Tray</th>
            <th scope="col">Section</th>
      <th scope="col">Moisture</th>
    </tr>
  </thead>
  <tbody>
    <tr>
<<<<<<< HEAD
=======
      <td id="entryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

       <td>${record.ShelfGP_0_FL}</td>
      <td>${record.TrayGP_0_FL}</td>
      <td>${record.SectionGP_0_FL}</td>
      <td>${record.MoistureGP_FL}</td>
<<<<<<< HEAD
      <td id="entryCheck">${record.entryCheck}</td>
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

    </tr>


  </tbody>
  <div id="landInfoData1"></div>

</table>`;
          }

          entryContainer.innerHTML += `

<br>  
<br>  
<br>  
<br>  
<br>  
<br>  







<tr>

         <center>

</center>
        </tr>



<table class="table" >

    <center>
<label class="hidden-label5">MONITORING AND INSPECTION</label>   
 </center> 
  <thead>
    <tr>
      <th scope="col">Station</th>
      <th scope="col">Location</th>
      <th scope="col">Defect</th>
      <th scope="col">Predominant Defect</th>
     </tr>
  </thead>
  <tbody>
    <tr>
      <td>${record.STATION2}</td>
      <td>${record.LOCATION3}</td>
      <td>${record.DEFECT}</td>
      <td>${record.PREDOMINANT_DEFECT}</td>
 
    </tr>

  </tbody>
  <div id="landInfoData1"></div>

</table>

<table>
<<<<<<< HEAD
<td style="opacity: 0;" id="newentryCheck">${record.entryCheck}</td>
=======
<td id="newentryCheck">${record.entryCheck}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

<div id="landInfoData2"></div>


<<<<<<< HEAD
=======
                            <div id="landInfoData1"></div>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89



</table>











































<table class="table">

    <center>
 </center> 
  <thead>

  </thead>
  <tbody>
    <tr>


       <td>ALERT</td>
      <td>${record.ALERT}</td>

    </tr>

  </tbody>
</table>





         <table id="vertical-1" class="table table-hover table-light">



        <tr>
            <th>Sampling from Gouyvae</th>
            <td>${record.Sampling_from_gouyvae}</td>
        </tr>


<br>


        <tr>
            <th>Control Number</th>
            <td>${record.Control_number}</td>
        </tr>
</table>




















                
<<<<<<< HEAD
=======
                // Add other if statements similarly for other conditions
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89


            </div>
               </div>
<<<<<<< HEAD
               </form>

                              <br> <br> <br>

           `;
           if (
=======
               <br> <br> <br>
               </form>
           `;
          if (
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
            record.COMPLETE == null ||
            record.COMPLETE == "" ||
            record.COMPLETE == "null" ||
            record.COMPLETE == "N" ||
            record.COMPLETE == "n" ||
            record.COMPLETE == "No" ||
            record.COMPLETE == "no"
          ) {
            landInfoDataDiv.appendChild(entryContainer);
          }
        });
      };
    };
    function saveEditedDate(id, newDate) {
      let openRequestup = indexedDB.open("GCNA");

      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction("In-House-Drying", "readwrite");
        let landInfoStore = transaction.objectStore("In-House-Drying");
        let getRequest = landInfoStore.get(id);

        getRequest.onsuccess = function (event) {
          let record = event.target.result;
          record.END_DRYING_DATE = newDate;

          let updateRequest = landInfoStore.put(record);
          updateRequest.onsuccess = function () {
            console.log("End Drying Date updated successfully!");
          };
        };
      };
    }

    function saveEditedCompletion(id, completion) {
      let openRequestup = indexedDB.open("GCNA");

      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction("In-House-Drying", "readwrite");
        let landInfoStore = transaction.objectStore("In-House-Drying");
        let getRequest = landInfoStore.get(id);

        getRequest.onsuccess = function (event) {
          let record = event.target.result;
          record.COMPLETE = completion;

          let updateRequest = landInfoStore.put(record);
          updateRequest.onsuccess = function () {
            console.log("End Drying Date updated successfully!");
          };
        };
      };
<<<<<<< HEAD
    };
=======
    }
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
  </script>
  <script>
    let openRequest2 = indexedDB.open("GCNA");

    openRequest2.onsuccess = function (event) {
      let db = event.target.result;
      let transaction = db.transaction("Shelves", "readonly");
      let landInfoStore = transaction.objectStore("Shelves");
      let getAllRequest = landInfoStore.getAll();

      getAllRequest.onsuccess = function (event) {
        let landInfoRecords = event.target.result;
        let tables = document.querySelectorAll(".table"); // Select all tables

        // Inside the loop where you iterate over landInfoRecords
        landInfoRecords.forEach((record) => {
          tables.forEach((table) => {
            let floor = record.floor; // Get the floor entry from the record
            let tableId = table.id; // Get the ID of the table

            if (floor === tableId) {
              // Check if the floor entry matches the table ID
              let entryCheckTd = table.querySelector("td#entryCheck");
              if (entryCheckTd.textContent.trim() === record.entry) {
                // Check if the td with id "entryCheck" exists in the current table
                let landInfoDataDiv = table.querySelector(".landInfoData1");
                if (!landInfoDataDiv) {
                  // Check if the div exists, if not, create it
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData1";
                  table.appendChild(landInfoDataDiv);
                }

                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id; // Unique identifier for the entryContainer
                // Unique identifier for the entryContainer
                entryContainer.innerHTML = `
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title"></h5>
                        <p class="card-text">
                            <center>
                                <table>
                                    <thead>
                                        <tr>
                                            <th scope="col">Shelf</th>
                                            <th scope="col">Tray</th>
                                                  <th scope="col">Section</th>
      <th scope="col">Moisture</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
<<<<<<< HEAD
                                     
=======
                                            <td>${record.floor}</td>
                                            <td>${record.entry}</td>
                                            <td>${record.station}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                                            <td>${record.Shelf}</td>
                                            <td>${record.Tray}</td>
                                            <td>${record.Section}</td>
                                            <td>${record.Weight}</td>
<<<<<<< HEAD
       <td style="opacity: 0;">${record.floor}</td>
                                            <td style="opacity: 0;">${record.entry}</td>
                                            <td style="opacity: 0;">${record.station}</td>
=======

>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                                            
                                        </tr>
                                    </tbody>
                                </table>
                            </center>
                        </p>
                    </div>
                </div>
                <br> <br> <br>`;
                landInfoDataDiv.appendChild(entryContainer);
              } else {
                console.log(
                  "No TD with ID 'entryCheck' found or its content does not match in table with ID:"
                );
              }
            }
          });
        });
      };
    };
  </script>
  <!-- 
<th scope="col">Shelf:</th>
<th scope="col">Tray:</th>
<th scope="col">Section:</th>
<th scope="col">Moisture</th>
<th scope="col">Week</th>
<th scope="col"></th>
</tr>
</thead>
<tbody>
<tr>
<td><input type="text" id="M_Shelf" class="form-control" name="M_Shelf" value="${shelfValue}" required></td>
<td><input type="text" id="M_Tray" class="form-control" name="M_Tray" value="${trayValue}" required></td>
<td><input type="text" id="M_Section" class="form-control" name="M_Section" value="${sectionValue}" required></td>
<td><input type="text" id="Moisture" class="form-control" name="Moisture" required></td>
<td><input type="text" id="Week" class="form-control" name="Week" required></td>
 -->

<<<<<<< HEAD
=======
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let openRequest4 = indexedDB.open("GCNA");
      openRequest4.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("W_Shelves", "readonly");
        let landInfoStore = transaction.objectStore("W_Shelves");
        let getAllRequest = landInfoStore.getAll();
        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let tables = document.querySelectorAll("table"); // Select all tables
          tables.forEach((table) => {
            landInfoRecords.forEach((record) => {
              let entryCheckTd = table.querySelector("td#newentryCheck");
              if (
                entryCheckTd &&
                entryCheckTd.textContent.trim() === record.entry
              ) {
                let landInfoDataDiv = table.querySelector(".landInfoData2");
                if (!landInfoDataDiv) {
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData2";
                  table.appendChild(landInfoDataDiv);
                }
                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id;
                entryContainer.innerHTML = generateCardHTML(record);
                landInfoDataDiv.appendChild(entryContainer);
              }
            });
          });
        };
      };
    });

    function saveEditedField(storeName, id, field, newValue) {
      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);
        let getRequest = landInfoStore.get(id);
        getRequest.onsuccess = function (event) {
          let record = event.target.result;
          record[field] = newValue;
          let updateRequest = landInfoStore.put(record);
          updateRequest.onsuccess = function () {
            console.log(`${field} updated successfully!`);
          };
        };
      };
    }

    function addRow(
      storeName,
      station,
      labelText,
      shelf,
      tray,
      section,
      moisture,
      floor,
      entry,
      buttonElement
    ) {
      let newRow = {
        id: Date.now(),
        station: station,
        [storeName === "M_Shelves" ? "M_Shelf" : "W_Shelf"]: shelf,
        [storeName === "M_Shelves" ? "M_Tray" : "W_Tray"]: tray,
        [storeName === "M_Shelves" ? "M_Section" : "W_Section"]: section,
        Moisture: moisture,
        Week: "",
        floor: floor,
        entry: entry,
      };

      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);

        let addRequest = landInfoStore.add(newRow);
        addRequest.onsuccess = function () {
          console.log("New row added successfully!");

          // Dynamically add the new card-like entry
          let entryContainer = document.createElement("div");
          entryContainer.className = "entry-container";
          entryContainer.dataset.formId = buttonElement.closest("table").id;
          entryContainer.innerHTML = generateCardHTML(newRow);

          // Append the new card structure to the .landInfoData2 div
          let landInfoDataDiv = buttonElement
            .closest("table")
            .querySelector(".landInfoData2");
          if (landInfoDataDiv) {
            landInfoDataDiv.appendChild(entryContainer);
          }
        };
      };
    }

    function generateCardHTML(record) {
      return `
    <div class="card">
      <div class="card-body">
        <h5 class="card-title"></h5>
        <p class="card-text">
          <center>
            <table>
              <thead>
                <label>${record.labelText}</label>
                <tr>
                  <th scope="col">Station</th>
                  <th scope="col">Shelf</th>
                  <th scope="col">Tray</th>
                  <th scope="col">Section</th>
                  <th scope="col">Moisture</th>
                  <th scope="col">Week</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td contenteditable="true" onblur="saveEditedField('W_Shelves', ${
                    record.id
                  }, 'station', this.innerText)">${record.station}</td>
                  <td contenteditable="true" onblur="saveEditedField('W_Shelves', ${
                    record.id
                  }, '${
        record.W_Shelf ? "W_Shelf" : "M_Shelf"
      }', this.innerText)">${record.W_Shelf || record.M_Shelf}</td>
                  <td contenteditable="true" onblur="saveEditedField('W_Shelves', ${
                    record.id
                  }, '${
        record.W_Tray ? "W_Tray" : "M_Tray"
      }', this.innerText)">${record.W_Tray || record.M_Tray}</td>
                  <td contenteditable="true" onblur="saveEditedField('W_Shelves', ${
                    record.id
                  }, '${
        record.W_Section ? "W_Section" : "M_Section"
      }', this.innerText)">${record.W_Section || record.M_Section}</td>
                  <td contenteditable="true" onblur="saveEditedField('W_Shelves', ${
                    record.id
                  }, 'Moisture', this.innerText)">${record.Moisture}</td>
                  <td contenteditable="true" onblur="saveEditedField('W_Shelves', ${
                    record.id
                  }, 'Week', this.innerText)">${record.Week}</td>
                  <td>${record.floor}</td>
                  <td>${record.entry}</td>
                </tr>
              </tbody>
            </table>
            <button onclick="addRow('W_Shelves', '${record.station}', '${
        record.labelText
      }', '${record.W_Shelf || record.M_Shelf}', '${
        record.W_Tray || record.M_Tray
      }', '${record.W_Section || record.M_Section}', '${record.Moisture}', '${
        record.floor
      }', '${record.entry}', this)">Add Row</button>
          </center>
        </p>
      </div>
    </div>
    <br> <br> <br>`;
    }
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let openRequest4 = indexedDB.open("GCNA");
      openRequest4.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("M_Shelf", "readonly");
        let landInfoStore = transaction.objectStore("M_Shelf");
        let getAllRequest = landInfoStore.getAll();
        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let tables = document.querySelectorAll("table"); // Select all tables
          tables.forEach((table) => {
            landInfoRecords.forEach((record) => {
              let entryCheckTd = table.querySelector("td#newentryCheck");
              if (
                entryCheckTd &&
                entryCheckTd.textContent.trim() === record.entry
              ) {
                let landInfoDataDiv = table.querySelector(".landInfoData2");
                if (!landInfoDataDiv) {
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData2";
                  table.appendChild(landInfoDataDiv);
                }
                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id;
                entryContainer.innerHTML = generateCardHTML(record);
                landInfoDataDiv.appendChild(entryContainer);
              }
            });
          });
        };
      };
    });

    function saveEditedField(storeName, id, field, newValue) {
      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);
        let getRequest = landInfoStore.get(id);
        getRequest.onsuccess = function (event) {
          let record = event.target.result;
          record[field] = newValue;
          let updateRequest = landInfoStore.put(record);
          updateRequest.onsuccess = function () {
            console.log(`${field} updated successfully!`);
          };
        };
      };
    }

    function addRow(
      storeName,
      station,
      labelText,
      shelf,
      tray,
      section,
      moisture,
      floor,
      entry,
      buttonElement
    ) {
      let newRow = {
        id: Date.now(),
        station: station,
        [storeName === "M_Shelves" ? "M_Shelf" : "W_Shelf"]: shelf,
        [storeName === "M_Shelves" ? "M_Tray" : "W_Tray"]: tray,
        [storeName === "M_Shelves" ? "M_Section" : "W_Section"]: section,
        Moisture: moisture,
        Week: "",
        floor: floor,
        entry: entry,
      };

      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);

        let addRequest = landInfoStore.add(newRow);
        addRequest.onsuccess = function () {
          console.log("New row added successfully!");

          // Dynamically add the new card-like entry
          let entryContainer = document.createElement("div");
          entryContainer.className = "entry-container";
          entryContainer.dataset.formId = buttonElement.closest("table").id;
          entryContainer.innerHTML = generateCardHTML(newRow);

          // Append the new card structure to the .landInfoData2 div
          let landInfoDataDiv = buttonElement
            .closest("table")
            .querySelector(".landInfoData2");
          if (landInfoDataDiv) {
            landInfoDataDiv.appendChild(entryContainer);
          }
        };
      };
    }

    function generateCardHTML(record) {
      return `
  <div class="card">
    <div class="card-body">
      <h5 class="card-title"></h5>
      <p class="card-text">
        <center>
          <table>
            <thead>
              <label>${record.labelText}</label>
              <tr>
                <th scope="col">Station</th>
                <th scope="col">Shelf</th>
                <th scope="col">Tray</th>
                <th scope="col">Section</th>
                <th scope="col">Moisture</th>
                <th scope="col">Week</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td contenteditable="true" onblur="saveEditedField('M_Shelf', ${
                  record.id
                }, 'station', this.innerText)">${record.station}</td>
                <td contenteditable="true" onblur="saveEditedField('M_Shelf', ${
                  record.id
                }, '${
        record.W_Shelf ? "W_Shelf" : "M_Shelf"
      }', this.innerText)">${record.W_Shelf || record.M_Shelf}</td>
                <td contenteditable="true" onblur="saveEditedField('M_Shelf', ${
                  record.id
                }, '${record.W_Tray ? "W_Tray" : "M_Tray"}', this.innerText)">${
        record.W_Tray || record.M_Tray
      }</td>
                <td contenteditable="true" onblur="saveEditedField('M_Shelf', ${
                  record.id
                }, '${
        record.W_Section ? "W_Section" : "M_Section"
      }', this.innerText)">${record.W_Section || record.M_Section}</td>
                <td contenteditable="true" onblur="saveEditedField('M_Shelf', ${
                  record.id
                }, 'Moisture', this.innerText)">${record.Moisture}</td>
                <td contenteditable="true" onblur="saveEditedField('M_Shelf', ${
                  record.id
                }, 'Week', this.innerText)">${record.Week}</td>
                <td>${record.floor}</td>
                <td>${record.entry}</td>
              </tr>
            </tbody>
          </table>
          <button onclick="addRow('M_Shelf', '${record.station}', '${
        record.labelText
      }', '${record.W_Shelf || record.M_Shelf}', '${
        record.W_Tray || record.M_Tray
      }', '${record.W_Section || record.M_Section}', '${record.Moisture}', '${
        record.floor
      }', '${record.entry}', this)">Add Row</button>
        </center>
      </p>
    </div>
  </div>
  <br> <br> <br>`;
    }
  </script>

  <!-- <script>
    document.addEventListener("DOMContentLoaded", function () {
      let openRequest3 = indexedDB.open("GCNA");
      openRequest3.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("M_Shelves", "readonly");
        let landInfoStore = transaction.objectStore("M_Shelves");
        let getAllRequest = landInfoStore.getAll();
        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let tables = document.querySelectorAll("table"); // Select all tables
          tables.forEach((table) => {
            landInfoRecords.forEach((record) => {
              let entryCheckTd = table.querySelector("td#newentryCheck");
              if (
                entryCheckTd &&
                entryCheckTd.textContent.trim() === record.entry
              ) {
                let landInfoDataDiv = table.querySelector(".landInfoData2");
                if (!landInfoDataDiv) {
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData2";
                  table.appendChild(landInfoDataDiv);
                }
                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id;
                entryContainer.innerHTML = `
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title"></h5>
                    <p class="card-text">
                      <center>
                        <table>
                          <thead>
                            <label>${record.labelText}</label>
                            <tr>
                              <th scope="col">Station</th>
                              <th scope="col">Shelf</th>
                              <th scope="col">Tray</th>
                              <th scope="col">Section</th>
                              <th scope="col">Moisture</th>
                              <th scope="col">Week</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>${record.station}</td>
                              <td>${record.M_Shelf}</td>
                              <td>${record.M_Tray}</td>
                              <td>${record.M_Section}</td>
                              <td>${record.Moisture}</td>
                              <td contenteditable="true" onblur="saveEditedWeek('M_Shelves', ${record.id}, this.innerText)">${record.Week}</td>
                              <td>${record.floor}</td>
                              <td>${record.entry}</td>
                            </tr>
                          </tbody>
                        </table>
                        <button onclick="addRow('M_Shelves', '${record.station}', '${record.labelText}', '${record.M_Shelf}', '${record.M_Tray}', '${record.M_Section}', '${record.Moisture}', '${record.floor}', '${record.entry}')">Add Row</button>
                      </center>
                    </p>
                  </div>
                </div>
                <br> <br> <br>`;
                landInfoDataDiv.appendChild(entryContainer);
              }
            });
          });
        };
      };
    });

    function saveEditedWeek(storeName, id, newWeek) {
      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);
        let getRequest = landInfoStore.get(id);
        getRequest.onsuccess = function (event) {
          let record = event.target.result;
          record.Week = newWeek;
          let updateRequest = landInfoStore.put(record);
          updateRequest.onsuccess = function () {
            console.log("Week updated successfully!");
          };
        };
      };
    }

    function addRow(
      storeName,
      station,
      labelText,
      shelf,
      tray,
      section,
      moisture,
      floor,
      entry
    ) {
      let newRow = {
        id: Date.now(), // Generate a unique ID for the new entry
        station: station,
        [storeName === "M_Shelves" ? "M_Shelf" : "W_Shelf"]: shelf,
        [storeName === "M_Shelves" ? "M_Tray" : "W_Tray"]: tray,
        [storeName === "M_Shelves" ? "M_Section" : "W_Section"]: section,
        Moisture: moisture,
        Week: "",
        floor: floor,
        entry: entry,
      };

      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);

        let addRequest = landInfoStore.add(newRow);

        addRequest.onsuccess = function () {
          console.log("New row added successfully!");
          // Optionally, you can reload the data here to reflect the new row
          location.reload();
        };
      };
    }
  </script> -->
  <!-- 
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let openRequest4 = indexedDB.open("GCNA");
      openRequest4.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("W_Shelves", "readonly");
        let landInfoStore = transaction.objectStore("W_Shelves");
        let getAllRequest = landInfoStore.getAll();
        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let tables = document.querySelectorAll("table"); // Select all tables
          tables.forEach((table) => {
            landInfoRecords.forEach((record) => {
              let entryCheckTd = table.querySelector("td#newentryCheck");
              if (
                entryCheckTd &&
                entryCheckTd.textContent.trim() === record.entry
              ) {
                let landInfoDataDiv = table.querySelector(".landInfoData2");
                if (!landInfoDataDiv) {
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData2";
                  table.appendChild(landInfoDataDiv);
                }
                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id;
                entryContainer.innerHTML = `
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title"></h5>
                    <p class="card-text">
                      <center>
                        <table>
                          <thead>
                            <label>${record.labelText}</label>
                            <tr>
                              <th scope="col">Station</th>
                              <th scope="col">Shelf</th>
                              <th scope="col">Tray</th>
                              <th scope="col">Section</th>
                              <th scope="col">Moisture</th>
                              <th scope="col">Week</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>${record.station}</td>
                              <td>${record.W_Shelf}</td>
                              <td>${record.W_Tray}</td>
                              <td>${record.W_Section}</td>
                              <td>${record.Moisture}</td>
                              <td contenteditable="true" onblur="saveEditedWeek('W_Shelves', ${record.id}, this.innerText)">${record.Week}</td>
                              <td>${record.floor}</td>
                              <td>${record.entry}</td>
                            </tr>
                          </tbody>
                        </table>
                        <button onclick="addRow('W_Shelves', '${record.station}', '${record.labelText}', '${record.W_Shelf}', '${record.W_Tray}', '${record.W_Section}', '${record.Moisture}', '${record.floor}', '${record.entry}')">Add Row</button>
                      </center>
                    </p>
                  </div>
                </div>
                <br> <br> <br>`;

                landInfoDataDiv.appendChild(entryContainer);
              }
            });
          });
        };
      };
    });

    function saveEditedWeek(storeName, id, newWeek) {
      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);
        let getRequest = landInfoStore.get(id);
        getRequest.onsuccess = function (event) {
          let record = event.target.result;
          record.Week = newWeek;
          let updateRequest = landInfoStore.put(record);
          updateRequest.onsuccess = function () {
            console.log("Week updated successfully!");
          };
        };
      };
    }

    function addRow(
      storeName,
      station,
      labelText,
      shelf,
      tray,
      section,
      moisture,
      floor,
      entry
    ) {
      let newRow = {
        id: Date.now(), // Generate a unique ID for the new entry
        station: station,
        [storeName === "M_Shelves" ? "M_Shelf" : "W_Shelf"]: shelf,
        [storeName === "M_Shelves" ? "M_Tray" : "W_Tray"]: tray,
        [storeName === "M_Shelves" ? "M_Section" : "W_Section"]: section,
        Moisture: moisture,
        Moisture: moisture,
        Week: "",
        floor: floor,
        entry: entry,
      };

      let openRequestup = indexedDB.open("GCNA");
      openRequestup.onsuccess = function (event) {
        let db1 = event.target.result;
        let transaction = db1.transaction(storeName, "readwrite");
        let landInfoStore = transaction.objectStore(storeName);

        let addRequest = landInfoStore.add(newRow);

        addRequest.onsuccess = function () {
          console.log("New row added successfully!");
          // Optionally, you can reload the data here to reflect the new row
          location.reload();
        };
      };
    }
  </script> -->

>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
  <!-- <script>
    document.addEventListener("DOMContentLoaded", function () {
      let openRequest3 = indexedDB.open("GCNA");

      openRequest3.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("M_Shelves", "readonly");
        let landInfoStore = transaction.objectStore("M_Shelves");
        let getAllRequest = landInfoStore.getAll();

        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let tables = document.querySelectorAll("table"); // Select all tables

          tables.forEach((table) => {
            landInfoRecords.forEach((record) => {
              let entryCheckTd = table.querySelector("td#newentryCheck");
              if (
                entryCheckTd &&
                entryCheckTd.textContent.trim() === record.entry
              ) {
                let landInfoDataDiv = table.querySelector(".landInfoData2");
                if (!landInfoDataDiv) {
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData2";
                  table.appendChild(landInfoDataDiv);
                }

                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id;
                entryContainer.innerHTML = `
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title"></h5>
                    <p class="card-text">
                      <center>
                        <table>
                          <thead>
                            <label>${record.labelText}</label>

                            <tr>
<<<<<<< HEAD
=======
                              <th scope="col">Station</th>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                              <th scope="col">Shelf</th>
                              <th scope="col">Tray</th>
                              <th scope="col">Section</th>
                              <th scope="col">Moisture</th>
                              <th scope="col">Week</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>

<<<<<<< HEAD
=======
                              <td>${record.station}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                              <td>${record.M_Shelf}</td>
                              <td>${record.M_Tray}</td>
                              <td>${record.M_Section}</td>
                              <td>${record.Moisture}</td>
                              <td>${record.Week}</td>
                              
                            </tr>
<<<<<<< HEAD
                                                     <div style="opacity: 0;>${record.floor}</div>
                              <div style="opacity: 0;">${record.entry}</div>
=======
                                                     <td>${record.floor}</td>
                              <td>${record.entry}</td>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                          </tbody>
                        </table>
                      </center>
                    </p>
                  </div>
                </div>
                <br> <br> <br>`;
                landInfoDataDiv.appendChild(entryContainer);
              }
            });
          });
        };
      };
    });
<<<<<<< HEAD
  </script> -->

<!-- 
  <script>
    var formCount = 0;


    document.addEventListener("DOMContentLoaded", function () {
      let openRequest3 = indexedDB.open("GCNA");

      openRequest3.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("M_Shelves", "readonly");
        let landInfoStore = transaction.objectStore("M_Shelves");
        let getAllRequest = landInfoStore.getAll();

        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let tables = document.querySelectorAll("table");

          tables.forEach((table) => {
            landInfoRecords.forEach((record) => {
              let entryCheckTd = table.querySelector("td#newentryCheck");
              if (
                entryCheckTd &&
                entryCheckTd.textContent.trim() === record.entry
              ) {
                let landInfoDataDiv = table.querySelector(".landInfoData2");
                if (!landInfoDataDiv) {
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData2";
                  table.appendChild(landInfoDataDiv);
                }

                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id;
                entryContainer.innerHTML = `
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title"></h5>
                    <p class="card-text">
                      <center>
                        <table>
                          <thead>
                            <label>${record.labelText}</label>
                            <tr>
                              <th scope="col">Shelf</th>
                              <th scope="col">Tray</th>
                              <th scope="col">Section</th>
                              <th scope="col">Moisture</th>
                              <th scope="col">Week</th>
                              <th scope="col">Actions</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td><input type="text" class="form-control" value="${record.M_Shelf}" required></td>
                              <td><input type="text" class="form-control" value="${record.M_Tray}" required></td>
                              <td><input type="text" class="form-control" value="${record.M_Section}" required></td>
                              <td><input type="text" class="form-control" value="${record.Moisture}" required></td>
                              <td><input type="text" class="form-control" value="${record.Week}" required></td>
                              <td>
                                <button onclick="duplicateEntry('${table.id}', '${record.M_Shelf}', '${record.M_Tray}', '${record.M_Section}', '${record.entry}', '${record.labelText}')">Duplicate</button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </center>
                    </p>
                  </div>
                </div>
                <br><br><br>`;
                landInfoDataDiv.appendChild(entryContainer);
              }
            });
          });
        };
      };
    });

    function duplicateEntry(tableId, shelf, tray, section, entry, labelText) {
        formCount++;
        var currentDate = new Date().toISOString().split('T')[0];
        var form = document.createElement('form');
        form.id = `form_${formCount}`;
        form.innerHTML = `
        <label>${labelText}</label>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Shelf:</th>
                    <th scope="col">Tray:</th>
                    <th scope="col">Section:</th>
                    <th scope="col">Moisture</th>
                    <th scope="col">Week</th>
                    <th scope="col">Date Created</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" class="form-control" name="M_Shelf" value="${shelf}" required></td>
                    <td><input type="text" class="form-control" name="M_Tray" value="${tray}" required></td>
                    <td><input type="text" class="form-control" name="M_Section" value="${section}" required></td>
                    <td><input type="text" class="form-control" name="Moisture" value="" required></td>
                    <td><input type="text" class="form-control" name="Week" value="" required></td>
                    <td><input type="date" class="form-control" name="Date" value="${currentDate}" required></td>
                    <td>
                        <button type="button" class="submit_contents" onclick="submitDuplicateForm('form_${formCount}')">✔</button>
                        <button type="button" class="addrow" onclick="removeForm('form_${formCount}')">Close</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <input type="hidden" name="entry" value="${entry}" required>
        <input type="hidden" name="labelText" value="${labelText}" required>
        `;

        var moistureViewDiv = document.getElementById("MoistureView");
        moistureViewDiv.appendChild(form);
    }
</script> -->
<!-- <script>
  var formCount = 0;

  document.addEventListener("DOMContentLoaded", function () {
      let openRequest3 = indexedDB.open("GCNA");

      openRequest3.onsuccess = function (event) {
          let db = event.target.result;
          let transaction = db.transaction("M_Shelves", "readonly");
          let landInfoStore = transaction.objectStore("M_Shelves");
          let getAllRequest = landInfoStore.getAll();

          getAllRequest.onsuccess = function (event) {
              let landInfoRecords = event.target.result;
              let tables = document.querySelectorAll("table");

              tables.forEach((table) => {
                  landInfoRecords.forEach((record) => {
                      let entryCheckTd = table.querySelector("td#newentryCheck");
                      if (entryCheckTd && entryCheckTd.textContent.trim() === record.entry) {
                          let landInfoDataDiv = table.querySelector(".landInfoData2");
                          if (!landInfoDataDiv) {
                              landInfoDataDiv = document.createElement("div");
                              landInfoDataDiv.className = "landInfoData2";
                              table.appendChild(landInfoDataDiv);
                          }

                          let entryContainer = document.createElement("div");
                          entryContainer.className = "entry-container";
                          entryContainer.dataset.formId = table.id;
                          entryContainer.innerHTML = `
                          <div class="card">
                              <div class="card-body">
                                  <h5 class="card-title"></h5>
                                  <p class="card-text">
                                      <center>
                                          <table>
                                              <thead>
                                                  <label>${record.labelText}</label>
                                                  <tr>
                                                      <th scope="col">Shelf</th>
                                                      <th scope="col">Tray</th>
                                                      <th scope="col">Section</th>
                                                      <th scope="col">Moisture</th>
                                                      <th scope="col">Week</th>
                                                      <th scope="col">Actions</th>
                                                  </tr>
                                              </thead>
                                              <tbody>
                                                  <tr class="original-entry">
                                                      <td><input type="text" class="form-control" value="${record.M_Shelf}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.M_Tray}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.M_Section}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.Moisture}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.Week}" required></td>
                                                      <td>
                                                          <button onclick="duplicateEntry(this, '${record.M_Shelf}', '${record.M_Tray}', '${record.M_Section}', '${record.entry}', '${record.labelText}')">Duplicate</button>
                                                      </td>
                                                  </tr>
                                              </tbody>
                                          </table>
                                      </center>
                                  </p>
                              </div>
                          </div>
                          <br><br><br>`;
                          landInfoDataDiv.appendChild(entryContainer);
                      }
                  });
              });
          };
      };
  });

  function duplicateEntry(button, shelf, tray, section, entry, labelText) {
      formCount++;
      var currentDate = new Date().toISOString().split('T')[0];

      var duplicateRow = `
      <tr class="duplicate-entry">
          <td><input type="text" class="form-control" name="M_Shelf" value="${shelf}" required></td>
          <td><input type="text" class="form-control" name="M_Tray" value="${tray}" required></td>
          <td><input type="text" class="form-control" name="M_Section" value="${section}" required></td>
          <td><input type="text" class="form-control" name="Moisture" value="" required></td>
          <td><input type="text" class="form-control" name="Week" value="" required></td>
          <td><input type="date" class="form-control" name="Date" value="${currentDate}" required></td>
          <td>
              <button type="button" class="submit_contents" onclick="submitDuplicateForm(this)">✔</button>
                                  <td><button type="button" class="submit_contents" onclick="M_submitForm('${tableId}', '${mainFormId}', ${formCount})">✔</button></td>

              <button type="button" class="addrow" onclick="removeForm(this)">Close</button>
          </td>
      </tr>`;

      // Find the closest row (tr) and insert the duplicate directly below it
      let originalRow = button.closest("tr");
      originalRow.insertAdjacentHTML("afterend", duplicateRow);
  }

  function removeForm(button) {
      button.closest("tr").remove();
  }

  function submitDuplicateForm(button) {
      alert("Submitting entry...");
  }









  


function M_submitForm(tableId, mainFormId, formNumber) {
    var formId = `form_${formNumber}`;
    var form = document.getElementById(formId);
    
    if (form) {
        var formData = new FormData(form);
        
        var entryCheckValue = formData.get('entryCheck');

        // Set entryValue to entryCheckValue
        var entryValue = entryCheckValue;


        var request = indexedDB.open('GCNA', 2);

        request.onsuccess = function(event) {
            var obj = {};
            for (var pair of formData.entries()) {
                obj[pair[0]] = pair[1];
            }

            // Exclude csrfmiddlewaretoken from being saved to IndexedDB
            formData.delete('csrfmiddlewaretoken');

            var request = indexedDB.open('GCNA', 2);

            request.onsuccess = function(event) {
                var transaction = event.target.result.transaction('M_Shelves', 'readwrite');
                var objectStore = transaction.objectStore('M_Shelves');


                // Get the highest id in the object store
                var highestIdRequest = objectStore.openCursor(null, 'prev');
                highestIdRequest.onsuccess = function(event) {
                    var cursor = event.target.result;
                    if (cursor) {
                        obj.id = cursor.key + 1;
                    } else {
                        obj.id = 1; // This is the first item
                    }

                    var request = objectStore.put(obj);

                    request.onsuccess = function() {
                        console.log('Data added to IndexedDB');
                        transferIndexedDBData(); // Transfer data to Django after saving to IndexedDB
                    };

                    request.onerror = function() {
                        console.error('Error adding data to IndexedDB');
                    };
                };
            };

            request.onerror = function(event) {
                console.error('Error opening IndexedDB', event);
            };
        };

        request.onerror = function(event) {
            console.error('Error opening IndexedDB', event);
        };
    } else {
        console.error(`Form with ID "${formId}" not found`);
    }
}


</script> -->
<script>var formCount = 0;

  document.addEventListener("DOMContentLoaded", function () {
      let openRequest3 = indexedDB.open("GCNA");
  
      openRequest3.onsuccess = function (event) {
          let db = event.target.result;
          let transaction = db.transaction("M_Shelves", "readonly");
          let landInfoStore = transaction.objectStore("M_Shelves");
          let getAllRequest = landInfoStore.getAll();
  
          getAllRequest.onsuccess = function (event) {
              let landInfoRecords = event.target.result;
              let tables = document.querySelectorAll("table");
  
              tables.forEach((table) => {
                  landInfoRecords.forEach((record) => {
                      let entryCheckTd = table.querySelector("td#newentryCheck");
                      if (entryCheckTd && entryCheckTd.textContent.trim() === record.entry) {
                          let landInfoDataDiv = table.querySelector(".landInfoData2");
                          if (!landInfoDataDiv) {
                              landInfoDataDiv = document.createElement("div");
                              landInfoDataDiv.className = "landInfoData2";
                              table.appendChild(landInfoDataDiv);
                          }
  
                          let entryContainer = document.createElement("div");
                          entryContainer.className = "entry-container";
                          entryContainer.dataset.formId = table.id;
                          entryContainer.innerHTML = `
                          <div class="card">
                              <div class="card-body">
                                  <h5 class="card-title">${record.labelText}</h5>
                                  <p class="card-text">
                                      <center>
                                          <table>
                                              <thead>
                                                  <tr>
                                                      <th scope="col">Shelf</th>
                                                      <th scope="col">Tray</th>
                                                      <th scope="col">Section</th>
                                                      <th scope="col">Moisture</th>
                                                      <th scope="col">Week</th>
                                                      <th scope="col">Date</th>
                                                      <th scope="col">Actions</th>
                                                  </tr>
                                              </thead>
                                              <tbody>
                                                  <tr class="original-entry">
                                                      <td><input type="text" class="form-control" value="${record.M_Shelf}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.M_Tray}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.M_Section}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.Moisture}" required></td>
                                                      <td><input type="text" class="form-control" value="${record.Week}" required></td>
                                                      <td><input type="date" class="form-control" value="${record.Date || ''}" required></td>
                                                      <td>
                                                          <button onclick="duplicateEntry(this, '${record.M_Shelf}', '${record.M_Tray}', '${record.M_Section}', '${record.entry}', '${record.labelText}')">Duplicate</button>
                                                      </td>
                                                  </tr>
                                              </tbody>
                                          </table>
                                      </center>
                                  </p>
                              </div>
                          </div>
                          <br><br><br>`;
                          landInfoDataDiv.appendChild(entryContainer);
                      }
                  });
              });
          };
      };
  });
  
  function duplicateEntry(button, shelf, tray, section, entry, labelText) {
      formCount++;
      var currentDate = new Date().toISOString().split('T')[0];
  
      var duplicateRow = `
      <tr class="duplicate-entry">
          <td><input type="text" class="form-control" name="M_Shelf" value="${shelf}" required></td>
          <td><input type="text" class="form-control" name="M_Tray" value="${tray}" required></td>
          <td><input type="text" class="form-control" name="M_Section" value="${section}" required></td>
          <td><input type="text" class="form-control" name="Moisture" value="" required></td>
          <td><input type="text" class="form-control" name="Week" value="" required></td>
          <td><input type="date" class="form-control" name="Date" value="${currentDate}" required></td>
          <td>
              <button type="button" class="submit_contents" onclick="submitDuplicateForm(this, '${shelf}', '${tray}', '${section}', '${entry}', '${labelText}')">✔</button>
              <button type="button" class="addrow" onclick="removeForm(this)">Close</button>
          </td>
      </tr>`;
  
      let originalRow = button.closest("tr");
      originalRow.insertAdjacentHTML("afterend", duplicateRow);
  }
  
  function removeForm(button) {
      button.closest("tr").remove();
  }
  
  function submitDuplicateForm(button, shelf, tray, section, entry, labelText) {
      let row = button.closest("tr");
      let formData = {
          M_Shelf: row.querySelector('input[name="M_Shelf"]').value,
          M_Tray: row.querySelector('input[name="M_Tray"]').value,
          M_Section: row.querySelector('input[name="M_Section"]').value,
          Moisture: row.querySelector('input[name="Moisture"]').value,
          Week: row.querySelector('input[name="Week"]').value,
          Date: row.querySelector('input[name="Date"]').value,
          entry: entry,
          labelText: labelText
      };
  
      let request = indexedDB.open("GCNA", 2);
  
      request.onsuccess = function (event) {
          let db = event.target.result;
          let transaction = db.transaction("M_Shelves", "readwrite");
          let objectStore = transaction.objectStore("M_Shelves");
  
          let highestIdRequest = objectStore.openCursor(null, "prev");
          highestIdRequest.onsuccess = function (event) {
              let cursor = event.target.result;
              if (cursor) {
                  formData.id = cursor.key + 1;
              } else {
                  formData.id = 1; // First entry
              }
  
              let addRequest = objectStore.add(formData);
  
              addRequest.onsuccess = function () {
                  console.log("Duplicate entry added to IndexedDB successfully");
                  alert("Duplicate entry saved successfully!");
              };
  
              addRequest.onerror = function () {
                  console.error("Error adding duplicate entry to IndexedDB");
              };
          };
      };
  
      request.onerror = function (event) {
          console.error("Error opening IndexedDB", event);
      };
  }
=======
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let openRequest4 = indexedDB.open("GCNA");

      openRequest4.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("W_Shelves", "readonly");
        let landInfoStore = transaction.objectStore("W_Shelves");
        let getAllRequest = landInfoStore.getAll();

        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let tables = document.querySelectorAll("table"); // Select all tables

          tables.forEach((table) => {
            landInfoRecords.forEach((record) => {
              let entryCheckTd = table.querySelector("td#newentryCheck");
              if (
                entryCheckTd &&
                entryCheckTd.textContent.trim() === record.entry
              ) {
                let landInfoDataDiv = table.querySelector(".landInfoData2");
                if (!landInfoDataDiv) {
                  landInfoDataDiv = document.createElement("div");
                  landInfoDataDiv.className = "landInfoData2";
                  table.appendChild(landInfoDataDiv);
                }

                let entryContainer = document.createElement("div");
                entryContainer.className = "entry-container";
                entryContainer.dataset.formId = table.id;
                entryContainer.innerHTML = `
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title"></h5>
                    <p class="card-text">
                      <center>
                        <table>
                          <thead>
<<<<<<< HEAD
                            <label>${record.labelText}</label>

                            <tr>
=======
                            <label>${record.labelText}</label> 

                            <tr>
                              <th scope="col">Station</th>
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                              <th scope="col">Shelf</th>
                              <th scope="col">Tray</th>
                              <th scope="col">Section</th>
                              <th scope="col">Moisture</th>
                              <th scope="col">Week</th>
                            </tr>
                          </thead>
                          <tbody>

                            <tr>

                              <td>${record.station}</td>
                              <td>${record.W_Shelf}</td>
                              <td>${record.W_Tray}</td>
                              <td>${record.W_Section}</td>
                              <td>${record.Moisture}</td>
                              <td>${record.Week}</td>


                            </tr>
                          </tbody>



<<<<<<< HEAD
                              <td style="opacity: 0;">${record.entry}</td>    
=======
                                                    <td>${record.floor}</td>
                              <td>${record.entry}</td>    
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
                        </table>
                      </center>
                    </p>
                  </div>
                </div>
                <br> <br> <br>`;
                landInfoDataDiv.appendChild(entryContainer);
              }
            });
          });
        };
      };
    });
<<<<<<< HEAD
  </script>
=======
  </script> -->
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89

  <!-- <script>
    let openRequest2 = indexedDB.open("GCNA");

    openRequest2.onsuccess = function (event) {
      let db = event.target.result;
      let transaction = db.transaction("Shelves", "readonly");
      let landInfoStore = transaction.objectStore("Shelves");
      let getAllRequest = landInfoStore.getAll();

      getAllRequest.onsuccess = function (event) {
        let landInfoRecords = event.target.result;
        let tables = document.querySelectorAll(".table"); // Select all tables

        // Inside the loop where you iterate over landInfoRecords
        landInfoRecords.forEach((record) => {
          tables.forEach((table) => {
            let floor = record.floor; // Get the floor entry from the record
            let tableId = table.id; // Get the ID of the table

            if (floor === tableId) {
              // Check if the floor entry matches the table ID

              // Accessing the specific table with the id "vertical-1"
              let specificTable = table.querySelector("table#vertical-1");
              if (specificTable) {
                // Check if the specific table is found

                // Accessing the specific td with the id "entryCheck" within the specific table
                let specificTd = specificTable.querySelector("td#entryCheck");
                if (specificTd) {
                  // Check if specificTd is found

                  console.log(
                    "Content of specific TD:",
                    specificTd.textContent.trim()
                  );

                  // Check if entryCheck is not equal to entry, then skip generating the shelf div
                  if (specificTd.textContent.trim() !== record.entry) {
                    return; // Skip generating the shelf div
                  }
                } else {
                  console.log(
                    "No TD with specified ID found in table with ID 'vertical-1'"
                  );
                }
              } else {
                console.log("Table with ID 'vertical-1' not found");
              }

              // Generate the shelf div only if entryCheck matches entry
              let landInfoDataDiv = table.closest(".landInfoData1");
              if (landInfoDataDiv) {
                let shelfDiv = document.createElement("div");
                shelfDiv.className = "shelf-info";
                shelfDiv.textContent = "Shelf Information: " + record.entry;
                landInfoDataDiv.appendChild(shelfDiv);
              }
            }
          });
        });
      };
    };
  </script> -->

  <!-- 
  <script>
    let openRequest2 = indexedDB.open("GCNA");

    openRequest2.onsuccess = function (event) {
      let db = event.target.result;
      let transaction = db.transaction("Shelves", "readonly");
      let landInfoStore = transaction.objectStore("Shelves");
      let getAllRequest = landInfoStore.getAll();

      getAllRequest.onsuccess = function (event) {
        let landInfoRecords = event.target.result;
        let tables = document.querySelectorAll(".table"); // Select all tables

        // Inside the loop where you iterate over landInfoRecords
        landInfoRecords.forEach((record) => {
          tables.forEach((table) => {
            let floor = record.floor; // Get the floor entry from the record
            let tableId = table.id; // Get the ID of the table

            if (floor === tableId) {
              // Check if the floor entry matches the table ID

              // Accessing the specific table with the id "vertical-1"
              let specificTable = table.querySelector("table#vertical-1");
              if (specificTable) {
                // Check if the specific table is found

                // Accessing the specific td with the id "entryCheck" within the specific table
                let specificTd = specificTable.querySelector("td#entryCheck");
                if (specificTd) {
                  // Check if specificTd is found

                  console.log(
                    "Content of specific TD:",
                    specificTd.textContent.trim()
                  );

                  // Check if entryCheck is not equal to entry, then hide the div
                  if (specificTd.textContent.trim() !== record.entry) {
                    let landInfoDataDiv =
                      specificTable.closest(".landInfoData1");
                    if (landInfoDataDiv) {
                      landInfoDataDiv.style.display = "none";
                    }
                  }
                } else {
                  console.log(
                    "No TD with specified ID found in table with ID 'vertical-1'"
                  );
                }
              } else {
                console.log("Table with ID 'vertical-1' not found");
              }
            }
          });
        });
      };
    };
  </script> -->

  <!-- <script>
    // Define a function to handle the script
    function processEntryCheck() {
      let openRequest2 = indexedDB.open("GCNA");

      openRequest2.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("Shelves", "readonly");
        let landInfoStore = transaction.objectStore("Shelves");
        let getAllRequest = landInfoStore.getAll();

        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let shelvesDiv = document.getElementById("landInfoData"); // Get the div containing the In-House forms

          // Inside the loop where you iterate over landInfoRecords
          landInfoRecords.forEach((record) => {
            let specificTds = shelvesDiv.querySelectorAll("td#entryCheck");
            if (specificTds.length > 0) {
              // Check if any specificTd is found
              specificTds.forEach((specificTd, index) => {
                // Check if entryCheck is not equal to entry, then hide the div
                if (specificTd.textContent.trim() !== record.entry) {
                  specificTd.closest(".entry-container").style.display = "none";
                }
              });
            } else {
              console.log("No TDs with specified ID found in shelves div");
            }
          });
        };
      };
    }

    // Call the function to execute the script
    processEntryCheck();
  </script>
  <script>
    // Define a function to handle the script
    function processEntryCheck() {
      let openRequest2 = indexedDB.open("GCNA");

      openRequest2.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("Shelves", "readonly");
        let landInfoStore = transaction.objectStore("Shelves");
        let getAllRequest = landInfoStore.getAll();

        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let shelvesDiv = document.getElementById("landInfoData"); // Get the div containing the In-House forms

          // Inside the loop where you iterate over landInfoRecords
          landInfoRecords.forEach((record) => {
            let specificTds = shelvesDiv.querySelectorAll("td#entryCheck");
            if (specificTds.length > 0) {
              // Check if any specificTd is found
              specificTds.forEach((specificTd, index) => {
                // Check if entryCheck is equal to entry
                if (specificTd.textContent.trim() === record.entry) {
                  console.log("Entry matched:", specificTd.textContent);
                } else {
                  console.log("Entry not matched:", specificTd.textContent);
                }
              });
            } else {
              console.log("No TDs with specified ID found in shelves div");
            }
          });
        };
      };
    }

    // Call the function to execute the script
    processEntryCheck();
  </script> -->
  <!-- <script>
    // Define a function to handle the script
    function processEntryCheck() {
      let openRequest2 = indexedDB.open("GCNA");

      openRequest2.onsuccess = function (event) {
        let db = event.target.result;
        let transaction = db.transaction("Shelves", "readonly");
        let landInfoStore = transaction.objectStore("Shelves");
        let getAllRequest = landInfoStore.getAll();

        getAllRequest.onsuccess = function (event) {
          let landInfoRecords = event.target.result;
          let shelvesDiv = document.getElementById("landInfoData"); // Get the div containing the In-House forms

          // Inside the loop where you iterate over landInfoRecords
          landInfoRecords.forEach((record) => {
            let specificTds = shelvesDiv.querySelectorAll("td#entryCheck");
            if (specificTds.length > 0) {
              // Check if any specificTd is found
              let matchFound = false;
              specificTds.forEach((specificTd, index) => {
                // Check if entryCheck is equal to entry
                if (specificTd.textContent.trim() === record.entry) {
                  console.log("Entry matched:", specificTd.textContent);
                  matchFound = true;
                } else {
                  console.log("Entry not matched:", specificTd.textContent);
                }
              });
              if (!matchFound) {
                shelvesDiv.style.display = "none"; // Hide the div if no match is found
              }
            } else {
              console.log("No TDs with specified ID found in shelves div");
            }
          });
        };
      };
    }

    // Call the function to execute the script
    processEntryCheck();
  </script> -->

<<<<<<< HEAD
=======
  
>>>>>>> 2f77c1ff2c41e2835471e62d0a1d735b5cb80b89
  {% endblock %}
</body>
